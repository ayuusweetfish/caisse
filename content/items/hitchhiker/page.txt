{{title.zh=}}电子互动装置搭车漫游指南
{{intro.zh=}}互动装置的设计与实现全流程概览
{{title.en=}}The Hitchhiker’s Guide to Electronic Interactives
{{intro.en=}}A comprehensive overview of the design and implementation of interactive installations

{{date=}}2023.18

{{contents.zh=}}
!<note <~~='
本文是由课题组内的分享内容整理出的文字稿。幻灯片见下，供阅读时参考。
!<filetable
  <file HHG_Interactives.pdf 幻灯片>
>
'>>

这篇分享面向不同知识背景的读者，希望大家可以通过它对互动装置的设计与实现流程（尤其是其中涉及物理互动与电子技术的部分）获得大致而完整的了解。也许读完这些并不能立刻着手工作，但如果读者能看到更宽广的设计空间、甚至产生一点点灵感，或是更清楚地知道要实现自己的设计需要经历哪些步骤，那笔者就十分满足啦。

标题里的“搭车客”有几层含义。其一是如搭车客旅行指南一般的轻松心态，虽然制作电子装置并不容易，但既然我们学习这些知识是为了启发灵感、最终把心里的设想变成现实，而且最复杂困难的部分也完全可以寻找专业的朋友们帮忙，因此，好奇心与探索的态度想必会很不错。没有考试，没有不得不学明白的知识。<lang en Don’t panic>。其二，今天将通过案例来展示一些初学者视角的心路历程，让大家能轻松而直观地体验到沿途的许多风景。其三，我也会涉及一些自己所知的合理使用校内外资源，节省成本与时间的方法。所谓搭车客，不就是主打一个合理利用，省钱省力嘛！

今天的内容主要分为以下几个部分。首先会作一个概览，综述从设想开始直到最终实现的完整流程，然后对背景知识、方案选择、原型验证、最终实现四个方面各自展开简介。过程中会穿插一些我所参与或是了解的案例，最后也会以自己参与制作的互动毛绒玩具装置<link fungi 《FUNgi》>作为案例，与大家一起走过这些流程。

!<h1 流程概览 #Overview>

!<img guide_icons-0.png <= 简笔画，大象。> orig-size syncdark>

一个互动装置的诞生，始于对互动本身的设计。参与者感知到些什么、需要做些什么？装置又将怎样反馈给他们？不得不说，这是所有问题中最困难，也是最有趣的一个。回答完这个问题，后续的一切努力其实都会有明确的方向，也有许多可以遵从的规律。例如，确定了互动形式，就不难确定选择什么样的传感技术、什么样的输出设备，物理上的限制与现有技术的能力是否能支持这个想法成为现实；同时，也可以知晓中间的计算处理任务（若有）适合交给哪些设备、是否需要额外设施支持（如数据存储或网络）。如此，整个装置的物理形式、布置方案，其实都能有明晰的轮廓；只有最初敲定方案的步骤是最有挑战、最令人纠结的。

好在这一步骤要求的知识并不多。作为设计师，只要大致了解各类技术的能力范围，这个步骤便可以独立完成——冒出一个想法，便可以大致知道能否实现、如何实现；另外，熟悉了常见的现有技术，也可以更快速地了解更新、更不常见、更有趣的科技，并主动在自己的设计中尝试之。下一部分就将揭开一切电子元器件的神秘面纱，接着介绍如何去获取这些帮助我们设计构思的信息。

有了构思、草拟出方案，便可以着手搭建原型了。这个阶段的任务是验证方案的可行性，在技术层面主要是传感技术与非常规的反馈形式（如触觉、嗅觉反馈，或者电机等需要调试精度的装置）。这个任务可以交给更了解技术的合作者，当然也可以由设计师自己完成。从这一步开始，如果并非使用 Kinect、Oculus 这类商业解决方案，便需要购置许多电子元器件，比如传感器、面包板、开发板，也需要自己搭建电路、编写程序，但是 <lang en don’t panic>！当下的设计之完善、资源之充足，已经足以让小朋友都能拼出正确运作的电路，而且现在还有 AI 语言技术的加持，制作原型、编写程序的挑战已经降低到了足够 <lang en accessible> 的水平。稍后便会介绍常用的工具与方法。

也许调试好的原型会暴露出一些问题，例如传感精度、范围，不同组件之间的干扰，不同环境下的稳定性，又或者是装置反馈的效果不尽如人意，那么这时可能需要考虑修改方案，然后修改原型；这是设计中不可避免的过程，毕竟失败是成功之母嘛。反之，如果原型运作得十分理想，那么喜悦过后便是紧锣密鼓的最终实现工作。这包括最终方案的组件选型，以及硬件软件的搭建与调试，一般交给具有一定技术能力的同学，但事实上也不会对基础提出太高的要求，最基础的大学物理知识基本足以支撑大部分电路设计。后续将会介绍一部分涉及的工作，包括电路设计、元件选型与购置、印刷电路板（PCB）的设计制造等。

其实很简单对吧？每个步骤的要求都不高。难怪网上随便找找就能看到那么多人都在捣鼓电子小玩意儿！那我们也赶紧开始吧！

!<h1 背景知识 #Acquaintance>

!<img guide_icons-1.png <= 简笔画，灯泡。> orig-size syncdark>

首先是一些电子设备的背景认知。从设计者的角度，这些知识能帮我们更加了解自己的设计，也能反过来启发设计思路。另外，在自己制作原型时，如果对手里的元器件们多些了解，也可以不必再抱着看“黑箱”的迷茫，而是能更好地熟识它们、与他们愉快地合作。大家一定不希望到头来都不知道是谁在努力工作着帮自己实现设想吧？

刚才我们已经知道，一个互动电子装置中的一切，往往始于某些传感器。这是一些构造精巧的小装置，可以把物理世界中发生的许多事情转化为电信号（电压或电流）。当然也有其他的互动方式，例如互联网，但是智能手机最终也要通过传感器——电容屏或者按键——来感知手的动作，所以这部分只是换了个地方，对吧？总之，传感器的这些信号传过导线来到其他的元件，这些元件对电信号作出各自的反应，产生更多不同的信号，在错综的连接中千变万化，最终到达执行输出的部件，例如小灯、扬声器、马达，将处理过的电信号重新转化为物理世界的变化，这也就是互动电子装置的任务结束的地方。

器件之间的连接往往依靠印刷电路板。这其实就是几层蚀刻过的铜片之间隔着绝缘材料，中间再打通一些孔（过孔，<lang en vias>）。上面焊接的元器件，无论是直插式还是贴片式，都通过这些铜形成连接。换言之，就是用铜片夹心千层饼（很多时候是双层饼……）替代导线（铜丝夹心卷），没什么稀奇的。

那么集成芯片又是什么东西？其实和电路板差不多，也就是几大片硅、绝缘材料和金属材料，各自刻成需要的形状，叠在一起，中间便能形成对特定信号产生特定反应的微小结构。上百万个微小结构拼起来便能实现需要的复杂功能，最外面裹上黑色塑料、伸出几根脚就能贴上电路板了。

仔细看看，每一个装置不过都是电路板上面焊接一些元器件，有时通过排线、导线等方式连到外面，不过如此！一切都在按照各自厂家的设计工作，它们的说明手册里也会写出所有必要的信息。现在你已经认识未来会接触到的小玩意们了，之后哪怕要自己接电路也不用慌啦。开始投入工作吧！

!<h1 方案选择 #Scheme>

!<img guide_icons-2.png <= 简笔画，包裹。> orig-size syncdark>

我们设计好一种互动形式，这样的问题便立刻摆在我们眼前：电子装置通过何种原理感知到参与者的行为、又借助何种元器件输出其反馈？这实际上就是技术选型。刚才提到，只要大致了解各类技术的能力范围，就能做好大体规划。那么这些要从哪里去了解，又要如何去解读这些信息呢？

一个很不错的途径是直接在网络搜索。许多常见的传感技术都有现成的集成芯片或者模块，只要按照关键词搜索即可，在搜索引擎或是电商平台都可以。例如，在 <link maylove-ex-22#Traffic-Lights 2022 年版本的《身体红绿灯》>中，我们需要检测是否有观众伸手触摸展板，于是直接按照“距离”与“接近”加上“传感器”搜索，很快便找到两种已有的元件：红外距离传感器与电容接近开关。

接下来，对于传感器而言，最需要关注的是传感范围与精度。查看它们的说明，红外传感模块 <link https://global.sharp/products/device/lineup/selection/opto/haca/diagram2.html GP2Y0E03> 的说明里写着范围是 4 ~ 50 cm，而 OMRON 最大型号接近开关 <link https://www.ia.omron.com/products/family/449/ E2E-X20MD> 的感知范围是 20 mm = 2 cm。逛了一圈，其他品牌的参数范围也基本是类似的。因为我们想实现大约 10 cm 左右距离的探测，所以可以知道，选择红外的方案才能实现设想。

再随意打个比方，比如我想做个电子的“风吹草动仪”，找到一款气速传感器芯片 <link https://www.renesas.com/us/en/products/sensor-products/flow-sensors/fs3000-air-velocity-sensor-module FS3000-1005>，它的范围是 0 ~ 7.2 m/s，精度是 ±0.36 m/s，至此便能知道这个想法大约不是天马行空，不妨继续推进设计。（不许抢我的想法呀！）

当然，对于输出端或者其他种类元件也都是类似，只需关注最核心、与装置设计最密切相关的参数即可。例如对于电子墨水屏，关注的往往是刷新速率、分辨率、颜色数；对于扬声器小喇叭，可以关注它的频率响应，是否能还原出必要的低音。如果需要使用电池或太阳能供电，那么也许声光电元件的能耗会成为最重要的条目。在这个阶段，只要对设计的可行性有大致的把握，就足够了。

通过同样的方法其实也可以主动去拓宽选择。在某宝上找一家种类丰富、面向学生与爱好者的电子元器件商店（如某家 r 开头的店以及某家 Z 开头的店），点进传感器大类，多逛几圈，也许就会有新的收获。有一些专门设计制造元器件模块的厂家，比如 <link https://www.adafruit.com/ Adafruit> 和 <link https://www.sparkfun.com/ SparkFun>，也有国内的品牌如<link https://www.waveshare.net/ 微雪>、<link https://www.dfrobot.com.cn/ DFRobot>，设计都十分用心，提供的元件也都有很大发挥空间，可以逛上许久。我偶遇过一个雷电传感器 <link https://www.sciosense.com/products/wireless-sensor-nodes/as3935-franklin-lightning-sensor-ic/ AS3935>（<link https://www.sparkfun.com/products/15441 SparkFun 模块产品页面>），只要外接一个小线圈，它就可以检测 40 km 范围内的雷电，距离分辨率精确到 1 km。这是不是也可以用来做些什么呢？留给读者作为练习。

对于当下科技所能做到的事，参考案例也是一个有效的方法。如果设计中的某个功能或要求在已有的案例中出现过，那么我们就能知道它确实可行。例如仍然对于《身体红绿灯》，从设计者的角度，实际上只要见过感应水龙头，便能放心地继续设计这个方案，因为只要采取同样的技术即可。在它的 2023 年重制版中，我根据原本了解到的 <link https://www.bareconductive.com/ Bare Conductive 公司>使用导电油墨实现近距离互动墙面的案例，认为我们的设计要求（10 cm 左右的接近互动）也完全可以摆脱红外传感器的黑孔，由此在确定具体技术细节之前就向策划组提出要求，认为可以重制整套设备。又或者——随意举个例子——从<link http://www.digiart21.org/art/rain-room 《雨室》（Rain Room）>出发，我们也许可以设想同一种传感技术的不同应用：给参与者追光？地面互动投影？总之，在这个视角下，《雨室》告诉我们，存在一种技术手段，能在大空间里追踪到人的行迹。这便足够成为一个灵感的种子了。

因此，案例积累是充满乐趣而十分有效的学习途径，在启发思考的同时也能掌握更多“技术细节”。除了常见的 <link https://www.behance.net/ Behance>、<link https://dribbble.com/ Dribbble> 等设计类网站，最近得知<link https://www.xiaohongshu.com/ 小红书>上也有一些做设计案例分享的账号会发布互动装置相关的内容；另外，许多电子技术爱好者会将自己的发明制作发布在 <link https://www.instructables.com/ Instructables> 和 <link https://hackaday.io/ Hackaday.io> 等网站上，国内则有<link https://oshwhub.com/ 立创开源硬件平台>、<link https://mc.dfrobot.com.cn/ DF 创客社区>等。前一边是提供设计参考，后一边则偏重技术的创造性应用，都可以成为不错的启发。有兴趣的读者也可以在网络上自行随意搜寻相关信息——也许互联网各处都散落着有趣的事物呢。<link fungi 《FUNgi》>的灵感起源便是 <link https://www.kobakant.at/DIY/ KOBAKANT> 这个宝藏小角落。

!<h1 原型搭建 #Prototype>

!<img guide_icons-3.png <= 简笔画，折线图。> orig-size syncdark>

我们现在有了一个超棒的想法，也对它的可行性有了几分把握。接下来可以开始把心心念念的元器件——实现梦想的抓手——抱回家啦。如果用它们搭出的原型能如期运作，那就意味着我们的设想真的能实现了！

其实作为设计师，如果找到技术方面的合作伙伴，那么后续的部分其实可以交给最专业的人——我们下班了。噢，也许还有些设计需要完善，但总算不用盯着数字和型号发呆了。不过如果决定选择一条更具挑战的道路，无论是主动还是被迫，接下来的过程都会十分有趣，也许像是误入兔子洞一般，看着奇妙的世界在面前缓缓展开。

在此之前，也许读着会有这样的疑问：“我能做得好吗？”——

搭建原型一般会借助以下组件：
!<list
  <li 面包板>
  <li 彩色跳线（也称杜邦线）>
  <li 微控制器开发板>
  <li 传感器模块/分线板（breakout board）>
  <li 偶尔可能需要直插式电阻、电容等器件>
>

面包板是一种带插孔的塑料板，每一横排五个孔之间都通过内部的铜片相连，两侧的电源接线则是整个竖排相连。杜邦线就是包装得更精致的导线，两头有易于插拔的针脚或插孔。一般而言，面包板与杜邦线的针脚间距都是 2.54 mm（0.1 英寸），可以方便地整排连接。

微控制器是一种芯片，大约可以认为是微型计算机，可以执行写入其中的程序指令，通过电信号与外界交流，获取传感器读数、运算处理，再向输出设备传送信息。所谓“开发板”，就是将这块芯片搭配上辅助的元件，封装成便于连接的形式，可以便捷地快速搭建电路。对于大部分的原型，非常推荐使用易于上手、资料丰富的 Arduino。
!<note 如果涉及 Wi-Fi、蓝牙等无线技术，可以考虑 <link https://www.espressif.com.cn/zh-hans/products/socs/esp32 ESP32> 或者更强大的 <link https://www.raspberrypi.org/ Raspberry Pi>（标准版、Zero W 或 Pico W 均可）。对于有技术基础（特别是软件技术）的读者，也推荐尝试更加灵活的 STM32 系列，如厂商提供的 Nucleo 评估板或 STM32F103 的 <link https://stm32-base.org/boards/STM32F103C8T6-Blue-Pill.html blue pill> 低成本开发板。>

购买的传感器等“模块”，一般同样由芯片与一些额外辅助的元件（离散元件）组成，形成自成一体的部件，提供标准间距的引脚或插座，适合用杜邦线连接。每个脚或孔都通过电路板的铜片层连接到某个位置，有特定的功能，如电源、输入输出信号等。连接时，参考商家提供的说明书、示例，或是参考网络上的示例都是可以的。

以 <link https://learn.adafruit.com/adafruit-bmp280-barometric-pressure-plus-temperature-sensor-breakout/arduino-test Adafruit 的这款气压传感模块>作为例子。它附带一个教程，里面有连接 Arduino 开发板的说明、示意图以及实物照片，并且详细展示如何在 Arduino 开发环境中打开示例程序、读出读数，最终传回计算机显示出来。不需要有任何经验，只要一步步照做即可。

对于输出装置也是完全一样。以这个音频模块（<link https://www.sparkfun.com/products/14809 Adafruit 产品页面>、<link https://www.sparkfun.com/products/14809 SparkFun 产品页面>）为例，它同样附带详细的教程与示例程序。这事实上已经是相当复杂的模块，但两家都各自给出了详细到爆炸的包办式教程。

到了这一步，一般我们会获得一块插着杜邦线、开发板、开发模块等元件的面包板。有了基本的读数和输出形式，便可以开始考虑让这些硬件尽可能地模拟装置上的真实情景。也许我们想把传感器粘到墙上，再覆盖一层泡沫板，看读数是否还能对互动产生足够的反应；也许我们想把喇叭和小灯蒙在几层毛线之下，看它们能不能传出来。也许我们想把它们放上一个小时看读数是不是稳定。也许我们想修改程序——上网看看其他人怎么做，或者问其他人、问 AI，有许多办法可以开始在示例程序上缝缝补补。程序语言毕竟还是给人类看的语言嘛。

有时，原型实验也是一种了解技术的途径。上个月，我把一家某宝店铺里 20 元以内能买到的几乎每种传感模块都购入了一块，拼出了一个同时将温度、湿度、气压、加速度、旋转速度、光照强度等等各种数据显示在小屏幕上的“缝合怪”。要说过程中学到了什么，也许就是感叹现代的传感技术实在是很发达吧……

原型阶段可长可短，也并不是必需的。2022 年的最初版《身体红绿灯》原型只是一个传感模块与一个小灯，但 2023 年的更新就花了许多时间在这一阶段。当时用了四种不同的材料组合去测试电容传感的读数精度，有次实验时摆起一圈椅子坐在中间，像某种宗教仪式一样伸出手在几块泡沫板、KT 板之间挥舞。由于当时并未排除远程合作的可能性，为了确保万无一失，后来甚至尝试过把灯带放在传感区域前面晃悠，以确保灯带开关不会干扰传感器。只有一切实验都表明新方案的精度足以支持我们的设想后，才启动了最终的实现工作。

!<h1 最终实现 #Implementation>

!<img guide_icons-4.png <= 简笔画，触碰平面的手指。> orig-size syncdark>

到了这一步可以提前小小地庆祝一下啦。设计师真是可以下班了——但这不是核心的原因；最重要的是，我们的设计已经有了技术架构方案与原型实验支持，真的要一点点变成现实了。

从这里开始，任务一般会转交给专门的嵌入式工程师——当然，也有可能就是设计师本人！工程师需要完成元件选型与购置、电路设计与电路板制造、软件开发，很可能也要负责组装设备。由于受众并不如前面的部分多，因此具体细节部分会简略一些。

直到原型时选择的也许都是开发用的模块，最终技术方案的细节仍然需要仔细设计。例如，是否需要采用适配更低阻抗的音频放大器芯片？是否需要改用更高频率的数据传输协议？是否需要将模块上的内容直接集成到电路板上？这时就不得不完成元件选型。两家大经销商<link https://www.digikey.cn/ 得捷（DigiKey）>和<link https://www.mouser.cn/ 贸泽（Mouser）>的搜索与过滤工具非常实用。例如，在包含扬声器的装置中，需要把数字信号转换为模拟信号（连续的电压信号），便可以进入“数模转换器”分类下按照分辨率、频率、通信方式、价格等条目来作筛选。不过，并不推荐直接在两家公司直接下单购买，因为起订价格分别为 300 与 175 人民币，相对较高。国内的<link https://www.szlcsc.com/ 立创商城>同样可以找到海量的元器件，而且没有起订限制（虽然不包邮），某宝上也能直接按型号名称搜到许多小规模经销商，对于一些不太常见的芯片，可能会出现一边有货而另一边缺货的情况，可以综合搜索。大经销商的优点是来源可靠、质量有保证，而且立创商城发货飞快；但是某宝毕竟是万能的某宝，许多商家也会提供包邮，不少时候还是很不错的。

对于离散阻容元件，推荐购买元件包或元件样品本；后者种类更全、数量更多，但实际上元件包一般也都是足够的。初期可以从 0805 尺寸开始熟悉焊接操作，再逐渐过渡到 0603 甚至 0402。推荐额外购入 100 nF 电容——几乎每块数字芯片都需要这个值的去耦电容，会消耗很快。如果临时缺少元件，也可以去校内的基础工业训练中心 iCenter 地下的 SMT 实训室询问老师，或者在实验室寻找持有样品本的同行。

接下来是电路设计，许多时候这与元件选型是交错进行的。电路设计对基础知识的要求其实一点也不高，一切电路中需要关注的只有两件事：电压与电流（散热问题另算）。电子世界的根基正是关于它们的两条定律：基尔霍夫电流定律（KCL）与基尔霍夫电压定律（KVL）。每个元件有自己的特性，在电压与电流之间维持特定的关系，只要利用这些特性的方程，结合两条基尔霍夫电路定律，便能理解世界上的每一个电路。很简单吧～

在学习与设计电路时，可以使用仿真工具来辅助。<link http://www.falstad.com/circuit/ CircuitJS1> 是一款浏览器内即可运行的小工具，简洁直观却功能强大，可以仿真几乎所有模拟电路与不涉及复杂芯片的数字电路。它还内置大量典型电路案例与解读，是非常有价值的学习资料。马上要提及的电路板设计工具 <link https://www.kicad.org/ KiCad> 也集成了 SPICE 仿真工具，可以根据原理图执行仿真。不过 KiCad 那边的文档比较有限，如果只想做一些简单仿真的话，CircuitJS1 是不二之选。（另一个流行的在线工具 <link https://www.circuitlab.com/ CircuitLab> 功能比较类似，但是不支持本地保存，而且要求注册、订阅，相比之下麻烦一些。）

印刷电路板也许是看上去最神奇最精致的事物（事实上不如芯片，但是芯片里的硅晶看不见摸不着，也就只能这样啦），有自己的设计美学。那么如何画电路板呢？“画电路板”、“画电路板”，当然首先需要拿出数位板数位笔，打开绘画软件，然后画就可以了。画好之后导入 CAD，放在电路板上的合适位置，就可以印出来啦。

认真地说，电路板设计也就是设计饼里的夹心。一般的设计流程是先画好电路原理图，然后根据原理图选择（或绘制）封装、摆放器件，最后布线。流行的设计软件大部分都是基于这个工作流，个人使用过 <link https://www.kicad.org/ KiCad> 和<link https://pro.lceda.cn/ 立创 EDA>，感觉整体上都是类似的。大部分时候，我们不需要太复杂的电路原理、也不需要在外部传递高频信号（百 MHz 级别以上），所以把该连起来的东西连起来基本上就足够了。具体的细节在这里当然是没法讲完的，对于希望开始学习的读者，想推荐一个 YouTube 频道 <link https://www.youtube.com/@PhilsLab <lang en Phil’s Lab>>，这个频道里有大量电子学、特别是 PCB 设计相关的讲座与教程，其中<link https://www.youtube.com/watch?v=aVUqaB0IMh4 有一个视频>带领观众从头开始设计一块开发板，把中间的细节讲得一清二楚，非常适合入门学习。

PCB 设计完成之后就可以交给工厂制作。国内一般价格为 20 元左右 5 ~ 10 片，制作周期（不包括物流）约为 1 ~ 2 天。现在许多大规模工厂都保持着免费打样的规则，一般需要使用厂家提供的工具，或是上个月有实付订单等，具体可参阅厂家布告。另外，几家知名工厂在某宝上也设置店铺，可能会有更低的报价，如果对成本敏感，不妨一试。另外，iCenter 可以为电路板制作亚克力外壳，在板上留下定位孔，即可用尼龙螺丝连接外壳并固定。

焊接，可以概括为“基本无害”。选择无铅焊锡、合理使用口罩、保证工作环境通风，就不必有什么担忧。这种东西对身体的伤害说不定还不如久坐本身。其实焊锡很听话，表面张力会让它吸附到正确的位置。0603 尺寸（1.6 mm × 0.8 mm）的贴片元件，以及伸出引脚的芯片，都不难用普通的电烙铁完成焊接。如果产生连锡、或是焊点不平整的情况，可以涂上松香等助焊剂重新加热、轻轻往外刮，也可以用吸锡丝吸走。扁平无引脚封装（<lang en flat no-leads>）更难，但操作熟练的话也可以用电烙铁完成。引脚隐藏在内的器件，如 BGA 和 CSP，一般通过回流焊接完成，如热风枪或者回流焊炉。

我曾有幸请 iCenter 的 Z 老师帮忙焊接四方扁平无引脚（QFN-20）器件，一个普通的烙铁头、甚至没有松香，过了一会儿就把器件牢牢固定在电路板上。第一次看的时候觉得真是太玄妙了。不过话说回来，第一次看老师焊有引脚芯片（QFP-48）的时候也赞叹不已，现在我自己也能做了。其实就是熟悉焊锡和松香的特性就好啦。只要引脚没断、元件没被烤坏，一切问题就都有办法，一点也不必慌张。

程序设计方面，限于篇幅在此不作展开。相关的资料也已经足够多啦。

最后想提及两个常见的细节问题：如何供电、如何烧录程序。这也许是在设计电路时就会浮现的令人迷茫的抉择。许多时候，供电可以直接采用 USB 电源，在电路板上放置一个 USB 接口，加入直流转换器芯片将其 5 V 电压转换至数字电路工作电压（常常是 3.3 V）即可。USB-PD 在 5 V 电压下最高可以提供 15 W 的功率。如果涉及更高的电压与功率（如《身体红绿灯》要求为 12 V 的灯带供电约 100 W），可以用单一大功率电源供电，再用直流转换器获得一个驱动逻辑电路的低功率低电压。烧录程序与调试可以直接通过 USB 搭配串口转接器实现，但是这样一来还要修改电路设计，显得有些麻烦；更简便的方法是从芯片提供的调试接口或串口（如 SWD、JTAG、USART）引脚引出测试点，用排针连接杜邦线，再通过专门的调试器（如 ST-Link、CMSIS-DAP，或者 USB—TTL 转换器）连接至电脑。如果必须压缩电路板尺寸，可以留出固定间距的圆形测试点，用专门的探针夹固定一排测试探针，连接到调试器上。

至此就是从想法诞生直到最终实现的所有工作啦。去最近的餐馆好好吃一顿吧！

!<h1 搭车漫游 #Hitchhike>

!<note 在此邀请读者尝试梳理<link fungi 《FUNgi》>的制作流程～若有兴趣可前往阅读工作日志（仍在补全中）。>

感谢大家能来听我废话。要是能带来一些启发与收获就再好不过啦！

{{contents.en=}}
!<note This page is currently <link ?lang=zh Chinese-only>. Translation is planned.>

{{rellinks.zh=}}

{{rellinks.en=}}

{{toc=}}true
